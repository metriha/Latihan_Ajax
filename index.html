<!DOCTYPE html>
<html>
<head>
	<title>Latihan Ajax</title>
</head>
<body>
	<button onclick="ajaxGetDate()">lihat tanggal</button>
	<span id="tanggal"></span>


		<hr>
		<br>
		nama 1 : <input type="text" id="nama1"><br>
		nama 2 : <input type="text" id="nama2"><br>
		<button onclick="ajaxPostData()">Gabungkan Nama</button>

</body>

<script type="text/javascript">
	function ajaxPostData() {
		var nama1= document.getElementById("nama1").value;
		var nama2= document.getElementById("nama2").value;

		//inisiasi xhttp
		var xhttp;
		if(window.XMLHttpRequest){
			xhttp = new XMLHttpRequest();
		}else{
			xhttp = new ActiveXObject("Micrososft.XMLHTTP");
	}

		//function untuk menerima response dari server
		xhttp.onreadystatechange = function () {
			if(this.readyState==4 && this.status==200){
				document.getElementById("tanggal").innerHTML = this.responseText;
			}
		};

		//buka koneksi ajax dengan metode POST
		xhttp.open('POST','server.php?p=joiner');

		//set request header
		xhttp.setRequestHeader("content-type", "application/x-www-form-urlencoded");

		//kirim request ke server
		xhttp.send("nama1="+nama1+"&nama2="+nama2);
}
	function ajaxGetDate() {
			//inisiasi ajax
			var xhttp;
		if(window.XMLHttpRequest) {
			xhttp = new XMLHttpRequest();
		}else{
			xhttp = new ActiveXObject("Microsoft.XMLHttp");
		}

		// readystate Holds the status
		// of the XMLHttpRequest.
		// 0: request not initialized
		// 1: server connection establized
		// 2:request recevied
		// 3: processing request
		// 4: request finished and
		// response is ready

		//untuk menerima respon dari server
		xhttp.onreadystatechange = function ()
			{
				if (this.readyState==4 && this.status==200) {
					document.getElementById('tanggal').innerHTML = this.responseText;
				}
			};

			//membuka koneksi ajax ke server.php
			//dengan metode GET
			// struktur : open (mode,url,async)
			xhttp.open("GET", "server.php?p=date");

			//mengirim ajax GET
			xhttp.send();

		}


		
</script>

</html>